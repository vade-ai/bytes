/*-- scss:defaults --*/

/* Dark Mode - Periwinkle Brand Colors */
$navbar-bg:      #0F0F1A;     // Darker than background for hierarchy
$code-bg:        #2A2A3E;     // Slightly lighter periwinkle-black for code blocks
$code-color:     #E8E8F2;     // Soft white with periwinkle hint
$text-muted:     #9999AA;     // Periwinkle-tinted gray

/*-- scss:rules --*/

/* ============================================
   Dark Mode Enhancements - Periwinkle Theme
   ============================================ */

body.quarto-dark {
  /* Navbar - OPTION 1: Periwinkle Tint + Gold Accent (Recommended) */
  .navbar {
    background: linear-gradient(180deg, rgba(42, 42, 62, 0.7) 0%, rgba(26, 26, 46, 0.95) 100%) !important;
    border-bottom: 3px solid #D4A563 !important;  // Bold gold accent border
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);  // Stronger shadow for depth
    backdrop-filter: blur(10px);  // Subtle blur effect
    -webkit-backdrop-filter: blur(10px);
  }

  .navbar-brand {
    color: #E8E8F2 !important;
    font-weight: 600;
  }

  .navbar-nav .nav-link {
    color: #C4C4D4 !important;
    font-weight: 500;
    transition: color 0.2s ease;
  }

  .navbar-nav .nav-link:hover {
    color: #9B9CE0 !important;  // Periwinkle on hover
  }

  .navbar-nav .nav-link.active {
    color: #D4A563 !important;  // Gold for active link
  }

  /* Alternative Options (comment/uncomment to try):

  OPTION 2: Frosted Glass
  .navbar {
    background: rgba(26, 26, 46, 0.8) !important;
    border-bottom: 1px solid rgba(212, 165, 99, 0.3) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  OPTION 3: Bold Periwinkle Gradient
  .navbar {
    background: linear-gradient(180deg, #2A2A3E 0%, #1A1A2E 100%) !important;
    border-bottom: 2px solid #9B9CE0 !important;
    box-shadow: 0 2px 8px rgba(155, 156, 224, 0.3), 0 8px 16px rgba(0, 0, 0, 0.4);
  }

  OPTION 4: Minimal with Strong Gold Line
  .navbar {
    background: #0F0F1A !important;
    border-bottom: 4px solid #ECB768 !important;
    box-shadow: 0 2px 0 rgba(236, 183, 104, 0.2);
  }
  */

  /* Sidebar backgrounds - subtle periwinkle tint */
  .sidebar-left {
    background-color: rgba(42, 42, 62, 0.3);  // Periwinkle-tinted overlay
    border-right: 1px solid rgba(155, 156, 224, 0.1);  // Subtle periwinkle border
  }

  /* SR Progress and Newsletter boxes */
  .sr-progress {
    background: rgba(42, 42, 62, 0.5);
    border: 1px solid rgba(155, 156, 224, 0.15);
  }

  .newsletter-signup {
    border-top: 1px solid rgba(155, 156, 224, 0.1);
  }

  /* Input fields in dark mode */
  .newsletter-signup input[type="email"] {
    background: rgba(42, 42, 62, 0.5);
    border-color: rgba(155, 156, 224, 0.2);
    color: #E8E8F2;

    &::placeholder {
      color: #9999AA;
    }

    &:focus {
      border-color: #9B9CE0;  // Primary periwinkle
      outline: none;
    }
  }

  /* Subscribe button - use periwinkle in dark mode */
  .newsletter-signup button {
    background: #9B9CE0;  // Primary periwinkle for dark mode
    color: #1A1A2E;  // Dark text on light button

    &:hover {
      background: lighten(#9B9CE0, 5%);
    }
  }

  /* Sign-in CTA in dark mode */
  .signin-cta {
    background: linear-gradient(135deg, #9B9CE0 0%, #7B7DD4 100%);

    .btn {
      background: #1A1A2E;
      color: #9B9CE0;

      &:hover {
        background: lighten(#1A1A2E, 5%);
      }
    }
  }

  /* Links in sidebars - better contrast */
  .posts-list a {
    color: #9999AA;

    &:hover {
      color: #C4C4D4;
    }

    &.active {
      color: #9B9CE0;
    }
  }

  nav#TOC a {
    color: #9999AA;

    &:hover {
      color: #C4C4D4;
    }

    &.active {
      color: #9B9CE0;
    }
  }

  /* Headings in dark mode - softer */
  h1, h2, h3, h4, h5, h6 {
    color: #E8E8F2;
  }

  /* Blockquotes */
  blockquote {
    border-left-color: #9B9CE0;
    background: rgba(42, 42, 62, 0.3);
  }

  /* Horizontal rules */
  hr {
    border-top-color: rgba(155, 156, 224, 0.15);
  }

  /* Code blocks - periwinkle accent */
  pre {
    background: #2A2A3E;
    border-left: 4px solid #D4A563;  // Gold accent for code
  }

  /* Inline code */
  code:not(pre code) {
    background: rgba(155, 156, 224, 0.15);
    color: #9B9CE0;
  }
}
